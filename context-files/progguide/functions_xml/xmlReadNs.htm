<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
      <title>xmlReadNs()</title>
      <link rel="stylesheet" type="text/css" href="../../skin/General.css">
      <link rel="stylesheet" type="text/css" href="../../skin/MSHtmlHelp.css">
      <meta name="keywords" content="functions xmlReadNs xmlReadNs xmlReadNs ">
      <meta name="author" content="Infor">
      <meta name="ROBOTS" content="ALL">
   </head>
   <body id="body">
      <div class="TopicTitle">xmlReadNs()</div>
      <div class="body">
         <div class="GeneralSection">
            <div class="subSectionTitle">Syntax:</div>
            <p class="Paragraph"><code>function&nbsp;long&nbsp;xmlReadNs&nbsp;
					(long&nbsp;fp, ref string&nbsp;error [, long&nbsp;whitespacehandling])</code></p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Description</div>
            <p class="Paragraph">
               <p class="Paragraph">De-serialize an XML object by parsing an XML document and
                  		  creating an in-memory object tree.
                  			This function supports XML namespaces, and
                  			will create namespace declarations carried by the respective XML nodes, and 
                  			put XML nodes in their appropriate namespace.
               </p>
               <p class="Paragraph">The default encoding is <a href="../../progguide/misc/utf8.htm" class="manualLink">UTF-8</a>. Encodings <a href="../../progguide/misc/utf16.htm" class="manualLink">UTF-16</a> and ISO-8859-1 are supported as well.
               </p>
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Arguments</div>
            <table border="0" class="none">
               <tbody noTR="3" class="none">
                  <tr no="1" isLast="false" class="none">
                     <td class="none">long</td>
                     <td class="none"><code>fp</code></td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">fp must be a
                           				file pointer opened for read obtained from a call to seq.open(), pipe.open(),
                           				ims.openfba() or ims.openvba().
                        </p>
                     </td>
                  </tr>
                  <tr no="2" isLast="false" class="none">
                     <td class="none">ref string</td>
                     <td class="none"><code>error</code></td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">error contains a description of the
                           				error in case a parsing error occurs. This is an English text, which can be
                           				used for logging purposes. Maximum length of this error string is 120
                           				characters.
                        </p>
                     </td>
                  </tr>
                  <tr no="3" isLast="true" class="none">
                     <td class="none">[long</td>
                     <td class="none"><code>whitespacehandling</code>]
                     </td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">whitespacehandling can
                           				have one of the three values XmlWhiteSpaceLegacyMode, XmlPreserveWhiteSpace, and
                           				XmlReplaceWhiteSpaceBySingleSpace. When this optional argument is not supplied,
                           				the value XmlWhiteSpaceLegacyMode is assumed. The meaning of the allowed values
                           				is as follows:
                        </p>
                        <table class="default">
                           <tbody noTR="4" class="default">
                              <tr no="1" isLast="false" class="default">
                                 <th rowspan="1" colspan="1" class="default">whitespacehandling</th>
                                 <th rowspan="1" colspan="1" class="default"></th>
                              </tr>
                              <tr no="2" isLast="false" class="default">
                                 <td rowspan="1" colspan="1" class="default">XmlWhiteSpaceLegacyMode</td>
                                 <td rowspan="1" colspan="1" class="default"><i class="Emphasis">XmlWhiteSpaceLegacyMode</i> means that white space is handled the same way as it was done in older versions of these functions, which did not have the
                                    whitespacehandling argument. This means (1) that each newline character in the input starts a new data node, (2) that leading
                                    white space in a data node is removed, and (3) that empty data nodes are removed.
                                 </td>
                              </tr>
                              <tr no="3" isLast="false" class="default">
                                 <td rowspan="1" colspan="1" class="default">XmlPreserveWhiteSpace</td>
                                 <td rowspan="1" colspan="1" class="default"><i class="Emphasis">XmlPreserveWhiteSpace</i> means that all white space in the XML document is preserved. However, it should be noted that any carriage-return line-feed
                                    character pair and any carriage-return character that is not followed by a line-feed character is translated to a single line-feed
                                    character. See also [XMLSTD], section 2.11.
                                 </td>
                              </tr>
                              <tr no="4" isLast="true" class="default">
                                 <td rowspan="1" colspan="1" class="default">XmlReplaceWhiteSpaceBySingleSpace</td>
                                 <td rowspan="1" colspan="1" class="default"><i class="Emphasis">XmlReplaceWhiteSpaceBySingleSpace</i> means (1) that leading and trailing white space in a data node is removed, (2) that empty data nodes are removed, and (3)
                                    that internal white space in a data node is replaced by one single space character.
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                        <p class="postspacer">&nbsp;</p>
                        <p class="Paragraph">It is possible to switch between the two modes XmlPreserveWhiteSpace and XmlReplaceWhiteSpaceBySingleSpace by means of the
                           xml:space attribute. The value "preserve" switches the mode to XmlPreserveWhiteSpace. The value "default" (or any other value
                           than "preserve") switches the mode to XmlReplaceWhiteSpaceBySingleSpace. The value of the xml:space attribute is considered
                           to apply to all elements within the content of the element where it is specified, unless overriden with another instance of
                           the xml:space attribute. See also [XMLSTD], Section 2.10. 
                           		      In XmlWhiteSpaceLegacyMode, the xml:space attribute is ignored.
                        </p>
                     </td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Return values</div>
            <table width="100%" border="0" class="none">
               <tbody noTR="2" class="none">
                  <tr no="1" isLast="false" class="none">
                     <th rowspan="1" colspan="1" class="none">&lt;&gt;0</th>
                     <td valign="top" rowspan="1" colspan="1" class="none">Success; A reference to the first in-memory node
                        				  when successful.
                     </td>
                  </tr>
                  <tr no="2" isLast="true" class="none">
                     <th rowspan="1" colspan="1" class="none">0</th>
                     <td valign="top" rowspan="1" colspan="1" class="none">Error.</td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Context</div>
            <p class="Paragraph">This function is implemented in the 
               			porting set
               			and can be used in 
               			all
               			script types.
            </p>
         </div>
         <div class="ExampleSection">
            <div class="subSectionTitle">Example</div><pre class="CodeBlock">
long vba
vba = ims.openvba( "w+" )
ims.write(
  "&lt;soap:Envelope xmlns:soap=""http://www.w3.org/2001/12/soap-envelope"" " &amp;
		 " soap:encodingStyle=""http://www.w3.org/2001/12/soap-encoding""&gt;" &amp;
		 "&lt;soap:Body xmlns:m=""http://www.example.org/stock""&gt;" &amp;
			 "&lt;m:GetStockPrice&gt;" &amp;
				 "&lt;m:StockName&gt;IBM&lt;/m:StockName&gt;" &amp;
			 "&lt;/m:GetStockPrice&gt;" &amp;
		 "&lt;/soap:Body&gt;" &amp;
  "&lt;/soap:Envelope&gt;", 9999, vba )
ims.rewind( vba )

long xml_envelope
string error(100)
xml_envelope = xmlReadNs( vba, error )

| xml_envelope now contains a reference to an XML tree</pre><p class="Paragraph">The tree contains a namespace declaration on the <code class="Code">soap:Envelope</code> node and
               	one on the <code class="Code">soap:Body</code> node. The functions <a href="../../progguide/functions_xml/xmlPrefix$.htm" class="manualLink">xmlPrefix$()</a>, <a href="../../progguide/functions_xml/xmlQualifiedName$.htm" class="manualLink">xmlQualifiedName$()</a>, <a href="../../progguide/functions_xml/xmlURI$.htm" class="manualLink">xmlURI$()</a>, <a href="../../progguide/functions_xml/xmlFirstNamespaceDecl.htm" class="manualLink">xmlFirstNamespaceDecl()</a>,
               	and others can be used to inspect the created XML tree.
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Related</div><pre class="Formula">
long	xmlRead(long fp, ref string error, [ long whitespacehandling ] )
long	xmlReadFromString(string xmlString, ref string error, [ long whitespacehandling ] )

</pre></div>
         <div class="RelatedTopics">
            <p class="RelatedTopicsSectionTitle">Related topics</p>
            <ul>
               <li class="RelTopic"><a href="../../progguide/functions_xml/overview.htm" class="manualLink">XML object overview</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_xml/synopsis.htm" class="manualLink">XML object synopsis</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_xml/synopsis_namespace.htm" class="manualLink">XML object synopsis (namespace support)</a></li>
            </ul>
         </div>
         <p>&nbsp;</p>
         <table class="noborder" border="0" cellpadding="0" cellspacing="5">
            <tr>
               <td class="noborder"><img src="../../skin/mail.gif" alt="Send Us Your Feedback About this Help Page"></td>
               <td class="noborder"><a class="FeedbackLink" href="mailto:documentation@infor.com?Subject=Feedback on /progguide/functions_xml/xmlReadNs, 10.4.2, en">Send Us Your Feedback About this Help Page</a></td>
            </tr>
         </table>
      </div>
   </body>
</html>