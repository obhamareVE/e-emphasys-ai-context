<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
      <title>dal.get.object()</title>
      <link rel="stylesheet" type="text/css" href="../../skin/General.css">
      <link rel="stylesheet" type="text/css" href="../../skin/MSHtmlHelp.css">
      <meta name="keywords" content="dal.get.object dal.get.object functions dal.get.object ">
      <meta name="author" content="Infor">
      <meta name="ROBOTS" content="ALL">
   </head>
   <body id="body">
      <div class="TopicTitle">dal.get.object()</div>
      <div class="body">
         <div class="GeneralSection">
            <div class="subSectionTitle">Syntax:</div>
            <p class="Paragraph"><code>#include &lt;bic_dam&gt;</code></p>
            <p class="Paragraph"><code>function&nbsp;long&nbsp;dal.get.object&nbsp;
					(string&nbsp;tbl.name, long&nbsp;lock [, string&nbsp;key_field1] [, string&nbsp;key_value1], &nbsp;...)</code></p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Description</div>
            <p class="Paragraph">
               <p class="Paragraph">Reads a record of the given table. In case the lock parameter
                  is set to true, the record is locked for update. This function
                  accepts a list of primary key field/value pairs.
               </p>
               <p class="Paragraph">The sequence of the actions is as follows:</p>
               <ol class="ProcedureList">
                  <li class="ProcedureListItem">The key fields are set according to the passed list of
                     fields
                  </li>
                  <li class="ProcedureListItem">The before.get.object hook is called with the DAL_FIND
                     option
                  </li>
                  <li class="ProcedureListItem">The record is read or locked</li>
                  <li class="ProcedureListItem">Record level permission is checked</li>
                  <li class="ProcedureListItem">The after.get.object hook is called with the DAL_FIND
                     option
                  </li>
               </ol>
               <p class="Paragraph">In case this function is called in the context of a 4GL-Session for a table
                  which is either defined as the maintable or a secondary table for this session,
                  this function will check if the requested record is already present in the 4GL-Engine buffers.
                  If so, the 4GL-Engine record buffer is fetched and will not be read from the database. 
                  This is especially useful when in a DAL script of a secondary table the corresponding maintable record is needed.
               </p>
               <div class="Note">
                  <div class="NoteSectionTitle"><strong class="GUIRef">Note</strong></div>
                  <div class="NoteContent">
                     <p class="Paragraph">The dal.get.object() function will return the table fields which are updated through the UI script or by the UI.
                        	   		However, in case these table fields are changed in a DAL script before the dal.get.object() function is called, 
                        	   		the dal.get.object() will overwrite these changes.
                     </p>
                  </div>
               </div>
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Arguments</div>
            <table border="0" class="none">
               <tbody noTR="5" class="none">
                  <tr no="1" isLast="false" class="none">
                     <td class="none">string</td>
                     <td class="none"><code>tbl.name</code></td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">the table name of the DAL.</p>
                     </td>
                  </tr>
                  <tr no="2" isLast="false" class="none">
                     <td class="none">long</td>
                     <td class="none"><code>lock</code></td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">if true the record is locked for update</p>
                     </td>
                  </tr>
                  <tr no="3" isLast="false" class="none">
                     <td class="none">[string</td>
                     <td class="none"><code>key_field1</code>]
                     </td>
                     <td class="none"></td>
                  </tr>
                  <tr no="4" isLast="false" class="none">
                     <td class="none">[string</td>
                     <td class="none"><code>key_value1</code>]
                     </td>
                     <td class="none"></td>
                  </tr>
                  <tr no="5" isLast="true" class="none">
                     <td class="none"></td>
                     <td class="none"><code>...</code></td>
                     <td class="none">
                        <p class="Paragraph_firstAndNoTextBefore">List of primary key field / value pairs in the format "ppmmm999.ffff", value. In case of array elements, specify the field
                           as "ppmmm999.ffff(element)"
                        </p>
                     </td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Return values</div>
            <table border="0" class="none">
               <tbody noTR="4" class="none">
                  <tr no="1" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">0</td>
                     <td rowspan="1" colspan="1" class="none">Record is read or locked for update</td>
                  </tr>
                  <tr no="2" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">DALHOOKERROR</td>
                     <td rowspan="1" colspan="1" class="none">One of the hooks blocked the read action</td>
                  </tr>
                  <tr no="3" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">DALNOOBJPERM</td>
                     <td rowspan="1" colspan="1" class="none">No record level permission</td>
                  </tr>
                  <tr no="4" isLast="true" class="none">
                     <td rowspan="1" colspan="1" class="none">&gt;0</td>
                     <td rowspan="1" colspan="1" class="none">The error code of the read action in case this
                        failed (e.g. ENOREC)
                     </td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Context</div>
            <p class="Paragraph">This function is implemented in the 
               			4GL Engine
               			and can be used in 
               			all
               			script types.
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Hooks called</div>
            <ul class="List">
               <li class="ListItem"><a href="../../progguide/functions_dal/before.open.object.set.htm" class="manualLink">before.open.object.set()</a> if this is the first call to the DAL
               </li>
               <li class="ListItem"><a href="../../progguide/functions_dal/before.get.object.htm" class="manualLink">before.get.object()</a></li>
               <li class="ListItem"><a href="../../progguide/functions_dal/after.get.object.htm" class="manualLink">after.get.object()</a></li>
            </ul>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Error Handling</div>
            <p class="Paragraph">In case a database error occurs (a return value greater than
               0), then this function will set an error message. E.g. in case a
               record is not found then an error message is set. So if you want
               to ignore such an error, make sure that you reset the dal error
               message stack by calling <a href="../../progguide/functions_message_handling/dal.reset.error.messages.htm" class="manualLink">dal.reset.error.messages()</a> or <a href="../../progguide/functions_message_handling/dal.clear.error.messages.htm" class="manualLink">dal.clear.error.messages()</a>.
            </p>
         </div>
         <div class="ExampleSection">
            <div class="subSectionTitle">Example</div><pre class="CodeBlock">
Identical constructions:

tisfc001.pdno = i.prod.order
ret.val = dal.get.object("tisfc001", false)

ret.val = dal.get.object("tisfc001", false, “tisfc001.pdno”, i.prod.order)

</pre></div>
         <div class="Note">
            <div class="NoteSectionTitle"><strong class="GUIRef">Note</strong></div>
            <div class="NoteContent">
               <p class="Paragraph">This function is can be used in Update Sessions as well as
                  Integrations via OpenWorld. However, be aware that since this
                  function calls the <a href="../../progguide/functions_dal/before.get.object.htm" class="manualLink">before.get.object()</a> and <a href="../../progguide/functions_dal/after.get.object.htm" class="manualLink">after.get.object()</a> hooks it cannot match the performance of a BaanSQL query. So in
                  most cases, it is advised to write your own query.
               </p>
            </div>
         </div>
         <div class="RelatedTopics">
            <p class="RelatedTopicsSectionTitle">Related topics</p>
            <ul>
               <li class="RelTopic"><a href="../../progguide/functions_db_operations/overview.htm" class="manualLink">Database operations overview</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_db_operations/synopsis.htm" class="manualLink">Database operations synopsis</a></li>
            </ul>
         </div>
         <p>&nbsp;</p>
         <table class="noborder" border="0" cellpadding="0" cellspacing="5">
            <tr>
               <td class="noborder"><img src="../../skin/mail.gif" alt="Send Us Your Feedback About this Help Page"></td>
               <td class="noborder"><a class="FeedbackLink" href="mailto:documentation@infor.com?Subject=Feedback on /progguide/functions_db_operations/dal.get.object, 10.4.2, en">Send Us Your Feedback About this Help Page</a></td>
            </tr>
         </table>
      </div>
   </body>
</html>