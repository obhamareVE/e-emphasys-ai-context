<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
      <title>Getting started</title>
      <link rel="stylesheet" type="text/css" href="../../skin/General.css">
      <link rel="stylesheet" type="text/css" href="../../skin/MSHtmlHelp.css">
      <meta name="keywords" content="getting started ">
      <meta name="author" content="Infor">
      <meta name="ROBOTS" content="ALL">
   </head>
   <body id="body">
      <div class="TopicTitle">Getting started</div>
      <div class="body">
         <div class="GeneralSection">
            <p class="Paragraph">This topic gives the first few steps to build a main application
               from scratch all the way up to a full application. The focus of the
               chapter is to get a script running. For readibility reasons the
               checking of return values and error handling is removed from the
               examples. It is advised to use the <a href="../../progguide/functions_generic_browser_frameworkf/example.htm" class="manualLink">Example</a> as a reference while reading this section.
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Minimal script:</div>
            <ol class="ProcedureList">
               <li class="ProcedureListItem">In the include section of the main application, add
                  the following: <code class="Code">#include &lt;bic_gbf&gt; | all GBF
                     defines</code></li>
               <li class="ProcedureListItem">In the main function (or where appropriate) add: <code class="Code">gbf.init(gbf.current.library(), “”, GBF.MENU.ALL,
            GBF.BUTTON.ALL, GBF.OPT.DEFAULT +
            GBF.OPT.DEBUG)</code></li>
               <li class="ProcedureListItem">After this add: <code class="Code">gbf.start()</code></li>
               <li class="ProcedureListItem">Be sure to add the GBF library to the application in
                  the Maintain Sessions (ttadv2100m000) session. In this
                  session go to form 2 and click on <i class="Emphasis">Scripts</i>, which should start the Maintain Program
                  Scripts/Libraries (ttadv2130s000) session.
                  Now click on <i class="Emphasis">Libraries</i> and add the “ttgbfsrvlib” library.
               </li>
               <li class="ProcedureListItem">Now the application can be compiled and run. There
            may be an error popup: “No top level function defined”,
            but that is OK for this moment.</li>
            </ol>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Basic Script</div>
            <ol class="ProcedureList">
               <li class="ProcedureListItem">1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.Add the function gbf.get.top.level() to
            the main application. Be sure to return 0. A compile
            and run of the program should now work without the
            previous described error popup.</li>
               <li class="ProcedureListItem">2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2.Next fill the body of
            gbf.get.top.level(), by telling the GBF which are the
            top level objects. See also the manual page for
            gbf.add.interior().
             function extern long gbf.get.top.level()  {
             gbf.add.interior(“top key”, “top description”,
            0)  return (0) }</li>
               <li class="ProcedureListItem">3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3.Compile and run the application and see
            what happens. In general the body of this function will
            contain a more elaborate SELECT statement.</li>
            </ol>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Normal Script</div>
            <p class="Paragraph">Now more objects have to be added to the script, which can
               be done using the function: <a href="../../progguide/functions_generic_browser_frameworkf/gbf.get.children.htm" class="manualLink">gbf.get.children()</a>. See
               also <a href="../../progguide/functions_generic_browser_frameworkf/gbf.add.leaf.htm" class="manualLink">gbf.add.leaf()</a> and <a href="../../progguide/functions_generic_browser_frameworkf/gbf.add.object.htm" class="manualLink">gbf.add.object()</a>.
            </p>
            <p class="Paragraph"></p>
            <p class="Paragraph">Example:</p><pre class="CodeBlock">
function extern long gbf.get.children(const string key(), long
value, long level)
{
        gbf.add.leaf("leaf key 1", "leaf description 1", 0)
        gbf.add.leaf("leaf key 2", "leaf description 2", 0)
        gbf.add.leaf("leaf key 3", "leaf description 3", 0)
        return (0)
}

</pre><p class="Paragraph">Compile and run the application and see what happens. In
               general the body of this function will contain a more
               elaborate SELECT statement.
            </p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Full Script</div>
            <p class="Paragraph">Now the essential frame work of how to use the GBF is
               complete. More and more features may now be added. Do not
               forget to remove the GBF.OPT.DEBUG flag. The next table lists
               the functions and options that you can use to implement a
               feature.
            </p>
            <table border="0" class="none">
               <tbody noTR="20" class="none">
                  <tr no="1" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">Feature</td>
                     <td rowspan="1" colspan="1" class="none">Functions and options
                        to implement the feature
                     </td>
                  </tr>
                  <tr no="2" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">buttons</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the GBF.BUTTON options,
                        gbf.set.button(),gbf.set.menu.item(),
                        gbf.get.resource(), gbf.set.resource()
                     </td>
                  </tr>
                  <tr no="3" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">debugging</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init(), and use the GBF.OPT.DEBUG /
                        GBF.OPT.POP.UP options
                     </td>
                  </tr>
                  <tr no="4" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">cut, copy &amp; paste</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init(), gbf.menu.selected(),
                        gbf.get.cutcopy(), gbf.get.cutcopynr()
                     </td>
                  </tr>
                  <tr no="5" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">drag and drop</td>
                     <td rowspan="1" colspan="1" class="none">
                        <p class="Paragraph_firstAndNoTextBefore">gbf.init() and use the GBF.OPT.DRAG.DROP option,</p>
                        <p class="Paragraph">gbf.set.drop.function(),gbf.drag.drop()</p>
                     </td>
                  </tr>
                  <tr no="6" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">help</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init(), gbf.set.help.function(),
                        gbf.add.object(), gbf.help.selected()
                     </td>
                  </tr>
                  <tr no="7" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">icons</td>
                     <td rowspan="1" colspan="1" class="none">
                        <p class="Paragraph_firstAndNoTextBefore">gbf.init() and use the GBF.OPT.SHADOWS option</p>
                        <p class="Paragraph">gbf.set.interior.icon(), gbf.set.leaf.icon(),
                           gbf.add.object(), gbf.update.object()
                        </p>
                     </td>
                  </tr>
                  <tr no="8" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">initialization</td>
                     <td rowspan="1" colspan="1" class="none">gbf.file.to.library(),
                        gbf.current.library(),gbf.init(), gbf.start()
                     </td>
                  </tr>
                  <tr no="9" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">labels</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the
                        GBF.OPT.NO.LABELS/GBF.OPT.&lt;nr&gt;.LABELS options,
                        gbf.add.object()
                     </td>
                  </tr>
                  <tr no="10" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">menus</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the GBF.MENU options,
                        gbf.set.menu.function(), gbf.set.menu.head(),
                        gbf.set.menu.item(), gbf.set.menu.seperator(),
                        gbf.set.menu.state(), gbf.set.std.menu()
                     </td>
                  </tr>
                  <tr no="11" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">multiple select</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the GBF.OPT.MULTIPLE option,
                        gbf.get.selected(), gbf.set.selected(), gbf.drag.drop(),
                        gbf.menu.selected()
                     </td>
                  </tr>
                  <tr no="12" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">object management</td>
                     <td rowspan="1" colspan="1" class="none">
                        <p class="Paragraph_firstAndNoTextBefore">gbf.add.header(), gbf.add.interior(),
                           gbf.add.leaf(),gbf.add.object(),
                           gbf.get.description(), gbf.set.drop.function(),
                           gbf.update.object(), gbf.get.key.desc.length(),
                           gbf.set.key.desc.length()
                        </p>
                        <p class="Paragraph">see also the return values of:
                           gbf.drag.drop() and gbf.menu.selected()
                        </p>
                     </td>
                  </tr>
                  <tr no="13" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">open and close of nodes</td>
                     <td rowspan="1" colspan="1" class="none">
                        <p class="Paragraph_firstAndNoTextBefore">gbf.init() and use the GBF.MENU.FILE.READ/OPEN
                           options,
                        </p>
                        <p class="Paragraph">gbf.get.open.depth(),
                           gbf.get.open.strategy(), gbf.set.open.depth(),
                           gbf.set.open.strategy()
                        </p>
                     </td>
                  </tr>
                  <tr no="14" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">printing</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init(),gbf.set.tree.report.subtitle()</td>
                  </tr>
                  <tr no="15" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">saving</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init(), gbf.menu.selected()</td>
                  </tr>
                  <tr no="16" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">selecting</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the GBF.OPT.UNSELECT /
                        GBF.OPT.NO.UNSELECT options
                     </td>
                  </tr>
                  <tr no="17" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">searching</td>
                     <td rowspan="1" colspan="1" class="none">gbf.get.search.startegy(),
                        gbf.set.search.startegy(),
                        gbf.set.search.sensitive(), gbf.set.search.set(),
                        gbf.set.search.what()
                     </td>
                  </tr>
                  <tr no="18" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">sorting</td>
                     <td rowspan="1" colspan="1" class="none">gbf.get.sort.startegy(),
                        gbf.set.sort.startegy()
                     </td>
                  </tr>
                  <tr no="19" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">tree walking</td>
                     <td rowspan="1" colspan="1" class="none">gbf.get.current.parent(), gbf.get.first.child(),
                        gbf.get.next(), gbf.get.parent(),
                        gbf.is.displayed()
                     </td>
                  </tr>
                  <tr no="20" isLast="true" class="none">
                     <td rowspan="1" colspan="1" class="none">window configuration</td>
                     <td rowspan="1" colspan="1" class="none">gbf.init() and use the
                        GBF.OPT.1.WINDOW/GBF.OPT.2.WINDOWS,
                        GBF.OPT.FORCE.SHADOW, GBF.OPT.&lt;nr&gt;.LABELS,
                        GBF.OPT.FONT options, but see also
                        gbf.get.resource(), gbf.set.resource(),
                        gbf.add.object()
                     </td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="GeneralSection">
            <div class="subSectionTitle">Fan Out</div>
            <p class="Paragraph">In some (very large) applications you may need to fan out
               to different functions on the same action. For example
               selecting a menu item on an object will (if nothing has been
               changed) call gbf.menu.selected(). However, if the main
               application has different kinds of leaf nodes, it must call
               the right function, so the code in the main application will
               look like:
            </p><pre class="CodeBlock">
function extern long gbf.menu.selected(long obj.id,
                                const string object.key(),
                                long object.value,
                                long menu.option)
{
        long    retval
        on case menu.option
        case this.menu: | note: this.menu must be 
                                | defined using gbf.set.menu.item()
                if  then
                        retval = do.menu.1(obj.id,
object.key,object.value, menu.option)
                else    if  then
                                retval = do.menu.2(obj.id,
object.key,object.value, menu.option)
                                else    if  then
                                        retval = do.menu.3(obj.id,
object.key,object.value, menu.option)
                …
                                endif
                        endif
                endif
                break
        case …:
                …
                break
        endcase

        return (…)
}
</pre><p class="Paragraph">In other words the fan out to the different functions is
               done in the main application itself.
            </p>
            <p class="Paragraph">Another solution to this problem is that the GBF will do
               the fan out. This can be accomplished by setting the default
               function for the object during the gbf.add.object() to a
               value which was returned from a preceding
               gbf.set.child.function(). Now this function will be called
               instead of gbf.menu.selected(). In other words the fan out is
               done by the GBF.
            </p>
            <div class="Figure"><img src="../images/gbf_005.gif" alt="[...]" height="266" width="437"></div>
            <p class="Paragraph">This mechanism can also be applied for:</p>
            <table border="0" class="none">
               <tbody noTR="5" class="none">
                  <tr no="1" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">Fan out on</td>
                     <td rowspan="1" colspan="1" class="none">Function to set the fan
                        out function
                     </td>
                     <td rowspan="1" colspan="1" class="none">Add to object</td>
                  </tr>
                  <tr no="2" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">
                        <p class="Paragraph_firstAndNoTextBefore">children</p>
                        <p class="Paragraph">(for interior nodes)</p>
                     </td>
                     <td rowspan="1" colspan="1" class="none">gbf.set.child.function</td>
                     <td rowspan="1" colspan="1" class="none">gbf.add.object</td>
                  </tr>
                  <tr no="3" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">drag and drop</td>
                     <td rowspan="1" colspan="1" class="none">gbf.set.drag.drop</td>
                     <td rowspan="1" colspan="1" class="none">gbf.add.object</td>
                  </tr>
                  <tr no="4" isLast="false" class="none">
                     <td rowspan="1" colspan="1" class="none">help</td>
                     <td rowspan="1" colspan="1" class="none">gbf.set.help.function</td>
                     <td rowspan="1" colspan="1" class="none">gbf.add.object</td>
                  </tr>
                  <tr no="5" isLast="true" class="none">
                     <td rowspan="1" colspan="1" class="none">menu</td>
                     <td rowspan="1" colspan="1" class="none">gbf.set.menu.function, gbf.set.menu.item</td>
                     <td rowspan="1" colspan="1" class="none">gbf.add.object</td>
                  </tr>
               </tbody>
            </table>
            <p class="postspacer">&nbsp;</p>
         </div>
         <div class="RelatedTopics">
            <p class="RelatedTopicsSectionTitle">Related topics</p>
            <ul>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/overview.htm" class="manualLink">Generic Browser Framework (GBF) overview</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/synopsis.htm" class="manualLink">Generic Browser Framework (GBF) synopsis</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/typical_usage.htm" class="manualLink">Typical usage</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/example.htm" class="manualLink">Example</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/error_codes_and_return_values.htm" class="manualLink">Generic Browser Framework error codes and return values</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/standard_menu_items_and_function_keys.htm" class="manualLink">standard menu items and function keys</a></li>
               <li class="RelTopic"><a href="../../progguide/functions_generic_browser_frameworkf/messages_and_questions.htm" class="manualLink">Messages and questions</a></li>
            </ul>
         </div>
         <p>&nbsp;</p>
         <table class="noborder" border="0" cellpadding="0" cellspacing="5">
            <tr>
               <td class="noborder"><img src="../../skin/mail.gif" alt="Send Us Your Feedback About this Help Page"></td>
               <td class="noborder"><a class="FeedbackLink" href="mailto:documentation@infor.com?Subject=Feedback on /progguide/functions_generic_browser_frameworkf/getting_started, 10.4.2, en">Send Us Your Feedback About this Help Page</a></td>
            </tr>
         </table>
      </div>
   </body>
</html>